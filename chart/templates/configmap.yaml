apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "timescale.fullname" . }}-config
  labels:
    {{- include "timescale.labels" . | nindent 4 }}
    app.kubernetes.io/component: database
data:
  custom.conf: |
    # Custom PostgreSQL configuration
    # This file is loaded AFTER timescaledb_tune.sh runs
    # Only override settings that timescaledb_tune doesn't handle well

    # Connection Settings
    max_connections = {{ .Values.postgresql.config.max_connections }}
